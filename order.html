<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="App" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="App" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="App" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="App" class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8"> 
	
	<title></title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="static/css/main.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/jquery.slick/1.3.15/slick.css"/>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-resource.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.12.0/ui-bootstrap.min.js"></script>

	<script src="https://cdn.jsdelivr.net/jquery.slick/1.3.15/slick.min.js"></script>
	<script src="static/js/angular/slick.min.js"></script>

	<script src="static/js/app/app.js"></script>
	<script src="static/js/app/controller/order.js"></script>
	<script src="static/js/app/service/address.js"></script>

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<div class="container">
		<div class="header">
			<div class="row">
				<div class="col-xs-12">
					<span class="pull-right top-crumb"><a href="book-nauth.html">Войти</a></span>
					<span class="pull-right top-crumb">Звоните нам (888) 283-5051</span>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-3">
					<img src="static/img/logo.jpg" width="200" />
				</div>
				<div class="col-xs-5">
					<nav class="main">
						<ul class="nav nav-pills">
							<li><a href="book-nauth.html">На главную</a></li>
							<li><a href="book-nauth.html">Как это работает</a></li>
							<li><a href="book-nauth.html">Каталог книг</a></li>
						</ul>
					</nav>
				</div>
				<div class="col-xs-4">
					<form class="form-horizontal search" role="search">
						<div class="form-group">
							<input type="text" class="form-control input-sm" placeholder="Найди хорошую книгу!">
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="content order" ng-controller="OrderController">
			<script src="http://api-maps.yandex.ru/2.0/?load=package.full&lang=ru-RU"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
			<script src="static/js/ymap.js"></script>
			<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css"/>
			<form method="post">
				<span ng-init="form = {
					book: 0,
					name: 'Василий Пупкин',
					phone: '89161234567',
					address: 1,
					subscription: 0
				}"></span>
				<span ng-init="addresses = [
					{
						id: 1,
						address: '1-й Смоленский переулок, 7',
						comment: 'при приезде позвнонить на телефон'
					}	
				]"></span>
				<span ng-init="subscriptions = [
					{
						id: 1,
						name: 'Обычная подписка, 1 месяц',
						price: 490
					},
					{
						id: 2,
						name: 'Обычная подписка, 3 месяця',
						price: 1450
					},
					{
						id: 3,
						name: 'Обычная подписка, 6 месяця',
						price: 2800
					},
				]"></span>
				<input type="hidden" name="book" ng-model="form.book" />
				<div class="row order-book">
					<div class="col-xs-12">
						<h4>Выбранная книга</h4>
						<div class="col-xs-12 order-book">
							<div class="cover pull-left">
								<img src="upload/cover/preview/51T+zKnx2DL._AA160_.jpg" class="cover">
							</div>
							<div class="meta">
								<div class="title"><a href="search-auth.html">Factory Man: How One Furniture Maker Battled Offshoring, Stayed Local - and Helped Save an American Town</a></div>
								<div>Автор: <a href="search-auth.html"><b>Beth Macy</b></a></div>
								<div>Издательство: <a href="search-auth.html"><b>Knopf</b></a></div>
								<div>Дата выхода: 15.07.2014</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row order-shiping">
					<div class="col-xs-12">
						<h4>Контакты и доставка</h4>
						<fieldset class="form-horizontal">
							<div class="form-group">
							<label class="col-sm-1 control-label">Имя:</label>
								<div class="col-sm-3">
									<input type="text" class="form-control input-sm" placeholder="Имя" name="name" ng-model="form.name">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-1 control-label">Телефон:</label>
								<div class="col-sm-3">
									<input type="text" class="form-control input-sm" placeholder="89161234567" name="phone" ng-model="form.phone">
								</div>
							</div>
						</fieldset>
						<ul>
							<li>
								<label class="radio">
									<input type="radio" name="address" value="0" ng-model="form.address">Самовывоз по адресу: г. Москва, ул. Лизюкова 13, офис 101. <a class="fancybox" href="#map-container">Посмотреть на карте</a>
								</label>
							</li>
							<li ng-repeat="address in addresses">
								<label class="radio">
									<input type="radio" name="address" ng-value="address.id" ng-model="form.address">{{ address.address }}<i ng-if="address.comment">, {{ address.comment }}</i>
								</label>
							</li>
							<li><a href="#" ng-click="addAddressFlag=true" ng-hide="addAddressFlag || !addresses.length">Добавить новый адрес доставки</a></li>
						</ul>
						<fieldset class="col-sm-5" ng-show="addAddressFlag || !addresses.length">
							<div class="form-group">
								<label class="control-label">Укажите желаемый адрес доставки</label>
								<textarea class="form-control" rows="2" ng-model="address.address"></textarea>
							</div>
							<div class="form-group">
								<label class="control-label">И коментарии к адресу</label>
								<textarea class="form-control" rows="2" ng-model="address.comment"></textarea>
							</div>
							<button type="submit" class="btn btn-default" ng-click="addAddress()">Добавить</button>
						</fieldset>
					</div>
				</div>
				<div class="row order-subscription">
					<div class="col-xs-12">
						<h4>Информация о подписке</h4>
						<p>Подписка не оформлена. Для того чтобы взять книгу выберите один из следующих вариантов подписки:
						<ul>
							<li>
								<label class="radio">
									<input type="radio" name="subscription" ng-model="form.subscription" value="0" />Оставить заказ без оформления подписки
								</label>
							</li>
							<li ng-repeat="subscription in subscriptions">
								<label class="radio">
									<input type="radio" name="subscription" ng-model="form.subscription" ng-value="subscription.id" ng-change="$parent.subscription=subscription"/>{{ subscription.name }}, {{ subscription.price }}
									р.
								</label>
							</li>
						</ul>
					</div>
				</div>
				<div class="row order-submit">
					<div class="col-xs-offset-4 col-xs-5 form-inline">
						<input type="submit" class="btn btn-danger" value="Я хочу оформить подписку за {{ subscription.price }} р. и взять книгу" ng-show="form.subscription"> 
						<input type="submit" class="btn btn-danger" value="Я хочу взять выбранную книгу" ng-show="!form.subscription"> 
					</div>
				</div>
			</form>
			<div id="map-container" style="width:700px; height:600px; display: none;"></div>
		</div>
	</div>
	<div class="footer">
		<div class="container">
			<div class="row">
				<div class="col-xs-12 cc">
					@ Открытая Книга, 2015
				</div>
			</div>
		</div>
	</div>
</body>
</html>
